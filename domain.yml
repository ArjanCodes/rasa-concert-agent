version: "3.1"

slots:
  genre:
    type: text
    mappings:
      - type: from_llm
  
  date:
    type: text
    mappings:
      - type: from_llm
  
  matched_concerts:
    type: list
  
  selected_concert:
    type: text
    mappings:
      - type: from_llm

  name:
    type: text
    mappings:
      - type: from_llm

  email:
    type: text
    mappings:
      - type: from_llm

responses:

  utter_ask_genre:
    - text: "What type of music are you interested in?"

  utter_ask_date:
    - text: "When would you like to attend a concert?"

  utter_ask_selected_concert:
    - text: "Which concert would you like to book?"

  utter_ask_name:
    - text: "What name should I put the ticket under?"

  utter_ask_email:
    - text: "What email address should I send the confirmation to?"

  utter_booking_complete:
    - text: "Your ticket for {selected_concert} on {date} has been booked under the name {name}. A confirmation has been sent to {email}."

  utter_free_chitchat_response:
    - text: "placeholder"
      metadata:
        rephrase: True
        rephrase_prompt: |
          The following is a conversation with an AI assistant built with Rasa.
          The assistant can help the user transfer money.
          The assistant is helpful, creative, clever, and very friendly.
          The user is making small talk, and the assistant should respond, keeping things light.
          Context / previous conversation with the user:
          {{history}}
          {{current_input}}
          Suggested AI Response:

actions:
  - action_find_concerts_by_genre_and_date
  - action_book_concert_ticket